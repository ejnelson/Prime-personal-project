<header class="container-fluid" ng-init="roomCtrl.getMessages()">
  <button ng-click="roomCtrl.backToInbox()" class="addButton fa fa-arrow-left"></button>
  <button ng-click="roomCtrl.photoView()" class="profileButton fa fa-picture-o"></button>
</header>
<div scroll-glue-bottom="glued" id="chatMessages">
  <ul id="messages" scroll-glue-bottom="glued" >
    <li ng-class="{floatRight: message.sender== roomCtrl.roomUser.username}" ng-repeat="message in roomCtrl.messages track by $index" repeat-end="roomCtrl.onEnd()">
      <span id="messageSender" class="messageText" ng-show="message.sender!= roomCtrl.roomUser.username">{{message.sender}}:</span>
      <!-- <img id="messageSenderPic" ng-show="message.pic" src="{{roomCtrl.roomUser.imgUrl}}" ng-src="{{roomCtrl.roomUser.imgUrl}}" /> -->
      <br ng-show="message.sender!= roomCtrl.roomUser.username"/>
      <span id="messageMessage" ng-show="message.text!=''"class="messageText">{{message.text}}</span>
      <img ng-show="message.pic" src="{{message.pic.location}}" ng-src="{{message.pic.location}}" />
     </li>
  </ul>
</div>

<form name="messageForm" id="messageSend" ng-submit="messageForm.$valid" action="">
  <input id="m" ng-model="roomCtrl.message" autocomplete="off" />
  <button class="fa fa-file-image-o" id="selectDiv" ngf-select ng-model="roomCtrl.file" name="file" ngf-pattern="'image/*'" ngf-accept="'image/*'" ngf-max-size="20MB" ngf-min-height="100"  ngf-resize="{width: 500, height: 500}">
              <!-- <button class="fa fa-file-image-o"></button> -->
              <span ng-show="roomCtrl.file" id="fileName"> {{roomCtrl.file.$ngfName}} </span> <img ng-show="roomCtrl.file" id="fileThumb" ngf-thumbnail="roomCtrl.file ">
  </button>
  <button type="submit" ng-submit="messageForm.$valid" class="fa fa-paper-plane" ng-click="roomCtrl.send($event,roomCtrl.message)"></button>
</form>
